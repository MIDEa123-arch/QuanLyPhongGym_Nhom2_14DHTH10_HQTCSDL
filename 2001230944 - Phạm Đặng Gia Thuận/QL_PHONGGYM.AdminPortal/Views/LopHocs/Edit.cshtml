@model QL_PHONGGYM.AdminPortal.Models.LopHoc

@{
    ViewBag.Title = "Sửa Lớp Học";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<style>
    .custom-card {
        border-radius: 15px;
        border: none;
        box-shadow: 0 4px 15px rgba(100, 181, 246, 0.15);
    }

    .custom-header {
        background: linear-gradient(135deg, #64B5F6 0%, #42A5F5 100%);
        border-radius: 15px 15px 0 0;
        padding: 1.5rem;
    }

    .form-label {
        color: #1976D2;
        font-weight: 600;
        margin-bottom: 0.5rem;
        font-size: 0.95rem;
    }

    .form-control, .form-select {
        border: 2px solid #E3F2FD;
        border-radius: 8px;
        padding: 0.65rem 0.75rem;
        transition: all 0.3s ease;
        background-color: #FAFBFF;
    }

        .form-control:focus, .form-select:focus {
            border-color: #64B5F6;
            box-shadow: 0 0 0 0.2rem rgba(100, 181, 246, 0.25);
            background-color: white;
        }

    .time-card {
        background: linear-gradient(135deg, #E3F2FD 0%, #F5F9FF 100%);
        border: 2px solid #BBDEFB;
        border-radius: 12px;
        padding: 1.5rem;
    }

        .time-card h6 {
            color: #1976D2;
            font-weight: 700;
        }

    .btn-save {
        background: linear-gradient(135deg, #42A5F5 0%, #1E88E5 100%);
        border: none;
        padding: 0.75rem 2rem;
        border-radius: 8px;
        font-weight: 600;
        transition: all 0.3s ease;
        box-shadow: 0 4px 12px rgba(66, 165, 245, 0.3);
    }

        .btn-save:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(66, 165, 245, 0.4);
            background: linear-gradient(135deg, #1E88E5 0%, #1565C0 100%);
        }

    .btn-back {
        background-color: #B0BEC5;
        border: none;
        padding: 0.75rem 2rem;
        border-radius: 8px;
        font-weight: 600;
        transition: all 0.3s ease;
        color: white;
    }

        .btn-back:hover {
            background-color: #90A4AE;
            transform: translateY(-2px);
            color: white;
        }

    .alert-note {
        background-color: #FFF3E0;
        border-left: 4px solid #FF9800;
        color: #E65100;
        padding: 0.75rem 1rem;
        border-radius: 6px;
        margin-top: 1rem;
    }

    .page-container {
        background: linear-gradient(180deg, #E3F2FD 0%, #FFFFFF 100%);
        min-height: 100vh;
        padding: 2rem 0;
    }
</style>

<div class="page-container">
    <div class="container py-4">

        <div class="custom-card mb-4">
            <div class="custom-header">
                <h4 class="mb-0 text-white">
                    <i class="bi bi-pencil-square me-2"></i>Chỉnh Sửa Lớp Học
                </h4>
            </div>

            <div class="card-body p-4">

                @using (Html.BeginForm())
                {
                    @Html.AntiForgeryToken()
                    @Html.HiddenFor(m => m.MaLop)

                    @Html.ValidationSummary(true, "", new { @class = "text-danger mb-3" })

                    <!-- ROW 1 -->
                    <div class="row g-3 mb-3">
                        <div class="col-md-6">
                            <label class="form-label">
                                <i class="bi bi-book me-1"></i>Tên Lớp Học
                            </label>
                            @Html.EditorFor(m => m.TenLop, new { htmlAttributes = new { @class = "form-control" } })
                        </div>

                        <div class="col-md-6">
                            <label class="form-label">
                                <i class="bi bi-gear me-1"></i>Chuyên Môn
                            </label>
                            @Html.DropDownList("MaCM", null, new { @class = "form-select" })
                        </div>
                    </div>

                    <!-- ROW 2 -->
                    <div class="row g-3 mb-3">
                        <div class="col-md-6">
                            <label class="form-label">
                                <i class="bi bi-person-badge me-1"></i>Giáo Viên Đảm Nhận
                            </label>
                            @Html.DropDownList("MaNV", null, "--- Chưa phân công ---", new { @class = "form-select" })
                        </div>

                        <div class="col-md-6">
                            <label class="form-label">
                                <i class="bi bi-cash-coin me-1"></i>Học Phí (VNĐ)
                            </label>
                            @Html.EditorFor(m => m.HocPhi, new { htmlAttributes = new { @class = "form-control" } })
                        </div>
                    </div>

                    <!-- ROW 3 -->
                    <div class="row g-3 mb-4">
                        <div class="col-md-6">
                            <label class="form-label">
                                <i class="bi bi-calendar-check me-1"></i>Ngày Bắt Đầu
                            </label>
                            @Html.TextBoxFor(m => m.NgayBatDau, "{0:yyyy-MM-dd}",
                                new { @class = "form-control", type = "date" })
                        </div>

                        <div class="col-md-6">
                            <label class="form-label">
                                <i class="bi bi-calendar-x me-1"></i>Ngày Kết Thúc
                            </label>
                            @Html.TextBoxFor(m => m.NgayKetThuc, "{0:yyyy-MM-dd}",
                                new { @class = "form-control", type = "date" })
                        </div>
                    </div>

                    <!-- GIỜ HỌC -->
                    <div class="time-card mb-4">
                        <h6 class="mb-3">
                            <i class="bi bi-clock-history me-2"></i>Cập nhật giờ học
                        </h6>

                        <div class="row g-3">
                            <div class="col-md-6">
                                <label class="form-label">
                                    <i class="bi bi-clock me-1"></i>Giờ Bắt Đầu
                                </label>
                                @Html.TextBoxFor(m => m.GioBatDau, "{0:hh\\:mm}",
                                    new { @class = "form-control", type = "time" })
                            </div>

                            <div class="col-md-6">
                                <label class="form-label">
                                    <i class="bi bi-clock-fill me-1"></i>Giờ Kết Thúc
                                </label>
                                @Html.TextBoxFor(m => m.GioKetThuc, "{0:hh\\:mm}",
                                    new { @class = "form-control", type = "time" })
                            </div>
                        </div>

                        <div class="alert-note">
                            <i class="bi bi-exclamation-triangle-fill me-2"></i>
                            <strong>Lưu ý:</strong> Thay đổi giờ ở đây sẽ cập nhật cho toàn bộ lịch của lớp.
                        </div>
                    </div>

                    <!-- ROW 4 -->
                    <div class="row g-3 mb-4">
                        <div class="col-md-6">
                            <label class="form-label">
                                <i class="bi bi-calendar3 me-1"></i>Số Buổi
                            </label>
                            @Html.EditorFor(m => m.SoBuoi, new { htmlAttributes = new { @class = "form-control" } })
                        </div>

                        <div class="col-md-6">
                            <label class="form-label">
                                <i class="bi bi-people me-1"></i>Sĩ Số Tối Đa
                            </label>
                            @Html.EditorFor(m => m.SiSoToiDa, new { htmlAttributes = new { @class = "form-control" } })
                        </div>
                    </div>

                    <!-- BUTTON -->
                    <div class="text-center pt-3">
                        <button class="btn btn-save text-white me-2" type="submit">
                            <i class="bi bi-check2-circle me-2"></i>Lưu Thay Đổi
                        </button>

                        <a href="@Url.Action("Index")" class="btn btn-back">
                            <i class="bi bi-arrow-left-circle me-2"></i>Quay lại
                        </a>
                    </div>
                }
            </div>
        </div>

    </div>
</div>