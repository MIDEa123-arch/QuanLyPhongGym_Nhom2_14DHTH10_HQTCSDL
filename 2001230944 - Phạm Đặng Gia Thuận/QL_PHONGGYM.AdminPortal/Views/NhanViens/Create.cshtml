@model QL_PHONGGYM.AdminPortal.Models.NhanVien

@{
    ViewBag.Title = "Thêm Nhân Viên";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<style>
    .create-container {
        max-width: 880px;
        margin: 50px auto;
        padding: 30px 35px;
        background-color: #f8fbff;
        border: 1px solid #e1ecf7;
        border-radius: 14px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        font-family: "Segoe UI", Arial, sans-serif;
    }

    .create-title {
        text-align: center;
        color: #2c6fab;
        font-size: 26px;
        font-weight: 600;
        margin-bottom: 30px;
        border-bottom: 2px solid #cce0f5;
        padding-bottom: 8px;
    }

    label {
        font-weight: 600;
        font-size: 15px;
        margin-bottom: 8px;
        display: block;
        color: #333;
    }

    .form-control {
        border-radius: 8px;
        border: 1px solid #cbd6e2;
        padding: 11px 13px;
        width: 100%;
        font-size: 14px;
        transition: all 0.2s ease;
    }

    .form-control:focus {
        border-color: #5dade2;
        box-shadow: 0 0 4px rgba(93, 173, 226, 0.3);
        outline: none;
    }

    .row-custom {
        display: flex;
        flex-wrap: wrap;
        gap: 32px;
        margin-bottom: 26px;
    }

    .col-custom {
        flex: 1 1 47%;
        min-width: 260px;
    }

    .password-wrapper {
        position: relative;
    }

    .toggle-password {
        position: absolute;
        right: 12px;
        top: 50%;
        transform: translateY(-50%);
        background: none;
        border: none;
        color: #5dade2;
        font-weight: 600;
        cursor: pointer;
        font-size: 14px;
        transition: color 0.2s;
    }

    .toggle-password:hover {
        color: #3498db;
    }

    .actions {
        display: flex;
        justify-content: flex-end;
        gap: 14px;
        margin-top: 28px;
    }

    .btn {
        padding: 10px 25px;
        border-radius: 6px;
        border: none;
        cursor: pointer;
        font-weight: 600;
        font-size: 15px;
    }

    .btn-primary {
        background-color: #5dade2;
        color: white;
    }

    .btn-primary:hover {
        background-color: #3498db;
    }

    .btn-secondary {
        background-color: #6c757d;
        color: white;
        text-decoration: none;
    }

    .btn-secondary:hover {
        background-color: #5a6268;
    }

    @@media (max-width: 700px) {
        .col-custom {
            flex: 1 1 100%;
        }
        .actions {
            flex-direction: column-reverse;
            align-items: stretch;
        }
    }
</style>

<div class="create-container">
    <div class="create-title">Thêm Nhân Viên</div>

    @using (Html.BeginForm())
    {
        @Html.AntiForgeryToken()
        @Html.ValidationSummary(true, "", new { @class = "text-danger mb-3" })

        <div class="row-custom">
            <div class="col-custom">
                <label>Chức vụ</label>
                @Html.DropDownList("MaChucVu", null, "-- Chọn chức vụ --", new { @class = "form-control" })
                @Html.ValidationMessageFor(model => model.MaChucVu, "", new { @class = "text-danger" })
            </div>



            <div class="col-custom">
                <label>Tên đăng nhập</label>
                @Html.EditorFor(model => model.TenDangNhap, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.TenDangNhap, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="row-custom">
            <div class="col-custom password-wrapper">
                <label>Mật khẩu</label>
                @Html.PasswordFor(model => model.MatKhau, new { @class = "form-control", id = "MatKhau" })
                <button type="button" class="toggle-password" onclick="togglePassword()">👁</button>
                @Html.ValidationMessageFor(model => model.MatKhau, "", new { @class = "text-danger" })
            </div>

            <div class="col-custom">
                <label>Tên nhân viên</label>
                @Html.EditorFor(model => model.TenNV, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.TenNV, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="row-custom">
            <div class="col-custom">
                <label>Giới tính</label>
                @Html.EditorFor(model => model.GioiTinh, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.GioiTinh, "", new { @class = "text-danger" })
            </div>

            <div class="col-custom">
                <label>Số điện thoại</label>
                @Html.EditorFor(model => model.SDT, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.SDT, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="row-custom">
            <div class="col-custom">
                <label>Ngày sinh</label>
                @Html.TextBoxFor(model => model.NgaySinh, "{0:yyyy-MM-dd}", new { @class = "form-control", type = "date" })
                @Html.ValidationMessageFor(model => model.NgaySinh, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="actions">
            <input type="submit" value="Tạo" class="btn btn-primary" />
            @Html.ActionLink("Quay lại", "Index", null, new { @class = "btn btn-secondary" })
        </div>
    }
</div>

<script>
    function togglePassword() {
        const input = document.getElementById("MatKhau");
        const btn = document.querySelector(".toggle-password");
        if (input.type === "password") {
            input.type = "text";
            btn.textContent = "🙈";
        } else {
            input.type = "password";
            btn.textContent = "👁";
        }
    }
</script>
